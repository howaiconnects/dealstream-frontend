lDestructuringPattern(t)}if((t.kind===80||t.kind===230||t.kind===303||t.kind===304)&&isArrayLiteralOrObjectLiteralDestructuringPattern(n)){return textSpan(t)}if(t.kind===226){const{left:e,operatorToken:n}=t;if(isArrayLiteralOrObjectLiteralDestructuringPattern(e)){return spanInArrayLiteralOrObjectLiteralDestructuringPattern(e)}if(n.kind===64&&isArrayLiteralOrObjectLiteralDestructuringPattern(t.parent)){return textSpan(t)}if(n.kind===28){return spanInNode(e)}}if(isExpressionNode(t)){switch(n.kind){case 246:return spanInPreviousNode(t);case 170:return spanInNode(t.parent);case 248:case 250:return textSpan(t);case 226:if(t.parent.operatorToken.kind===28){return textSpan(t)}break;case 219:if(t.parent.body===t){return textSpan(t)}break}}switch(t.parent.kind){case 303:if(t.parent.name===t&&!isArrayLiteralOrObjectLiteralDestructuringPattern(t.parent.parent)){return spanInNode(t.parent.initializer)}break;case 216:if(t.parent.type===t){return spanInNextNode(t.parent.type)}break;case 260:case 169:{const{initializer:e,type:n}=t.parent;if(e===t||n===t||isAssignmentOperator(t.kind)){return spanInPreviousNode(t)}break}case 226:{const{left:e}=t.parent;if(isArrayLiteralOrObjectLiteralDestructuringPattern(e)&&t!==e){return spanInPreviousNode(t)}break}default:if(isFunctionLike(t.parent)&&t.parent.type===t){return spanInPreviousNode(t)}}return spanInNode(t.parent)}}function textSpanFromVariableDeclaration(t){if(isVariableDeclarationList(t.parent)&&t.parent.declarations[0]===t){return textSpan(findPrecedingToken(t.pos,e,t.parent),t)}else{return textSpan(t)}}function spanInVariableDeclaration(t){if(t.parent.parent.kind===249){return spanInNode(t.parent.parent)}const n=t.parent;if(isBindingPattern(t.name)){return spanInBindingPattern(t.name)}if(hasOnlyExpressionInitializer(t)&&t.initializer||hasSyntacticModifier(t,32)||n.parent.kind===250){return textSpanFromVariableDeclaration(t)}if(isVariableDeclarationList(t.parent)&&t.parent.declarations[0]!==t){return spanInNode(findPrecedingToken(t.pos,e,t.parent))}}function canHaveSpanInParameterDeclaration(e){return!!e.initializer||e.dotDotDotToken!==void 0||hasSyntacticModifier(e,1|2)}function spanInParameterDeclaration(e){if(isBindingPattern(e.name)){return spanInBindingPattern(e.name)}else if(canHaveSpanInParameterDeclaration(e)){return textSpan(e)}else{const t=e.parent;const n=t.parameters.indexOf(e);S.assert(n!==-1);if(n!==0){return spanInParameterDeclaration(t.parameters[n-1])}else{return spanInNode(t.body)}}}function canFunctionHaveSpanInWholeDeclaration(e){return hasSyntacticModifier(e,32)||e.parent.kind===263&&e.kind!==176}function spanInFunctionDeclaration(e){if(!e.body){return void 0}if(canFunctionHaveSpanInWholeDeclaration(e)){return textSpan(e)}return spanInNode(e.body)}function spanInFunctionBlock(e){const t=e.statements.length?e.statements[0]:e.getLastToken();if(canFunctionHaveSpanInWholeDeclaration(e.parent)){return spanInNodeIfStartsOnSameLine(e.parent,t)}return spanInNode(t)}function spanInBlock(t){switch(t.parent.kind){case 267:if(getModuleInstanceState(t.parent)!==1){return void 0}case 247:case 245:case 249:return spanInNodeIfStartsOnSameLine(t.parent,t.statements[0]);case 248:case 250:return spanInNodeIfStartsOnSameLine(findPrecedingToken(t.pos,e,t.parent),t.statements[0])}return spanInNode(t.statements[0])}function spanInInitializerOfForLike(e){if(e.initializer.kind===261){const t=e.initializer;if(t.declarations.length>0){return spanInNode(t.declarations[0])}}else{return spanInNode(e.initializer)}}function spanInForStatement(e){if(e.initializer){return spanInInitializerOfForLike(e)}if(e.condition){return textSpan(e.condition)}if(e.incrementor){return textSpan(e.incrementor)}}function spanInBindingPattern(e){const t=forEach(e.elements,(e=>e.kind!==232?e:void 0));if(t){return spanInNode(t)}if(e.parent.kind===208){return textSpan(e.parent)}return textSpanFromVariableDeclaration(e.parent)}function spanInArrayLiteralOrObjectLiteralDestructuringPattern(e){S.assert(e.kind!==207&&e.kind!==206);const t=e.kind===209?e.elements:e.properties;const n=forEach(t,(e=>e.kind!==232?e:void 0));if(n){return spanInNode(n)}return textSpan(e.parent.kind===226?e.parent:e)}function spanInOpenBraceToken(t){switch(t.parent.kind){case 266:const n=t.parent;return spanInNodeIfStartsOnSameLine(findPrecedingToken(t.pos,e,t.parent),n.members.length?n.members[0]:n.getLastToken(e));case 263:const r=t.parent;return spanInNodeIfStartsOnSameLine(findPrecedingToken(t.pos,e,t.parent),r.members.length?r.members[0]:r.getLastToken(e));case 269:return spanInNodeIfStartsOnSameLine(t.parent.parent,t.parent.clauses[0])}return spanInNode(t.parent)}functio