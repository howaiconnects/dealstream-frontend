n;case 1:heapPop(taskHeap),task=heapPeek(taskHeap);continue;case 2:1===task.phase?(task.phase=0,heapResift(taskHeap,task)):hasBackgroundWork?(task.priority=_segment_cache__WEBPACK_IMPORTED_MODULE_2__.PrefetchPriority.Background,heapResift(taskHeap,task)):heapPop(taskHeap),task=heapPeek(taskHeap);continue}}}function pingPPRSegmentRevalidation(now,task,currentSegment,route,routeKey,segmentKey){let revalidatingSegment=(0,_cache__WEBPACK_IMPORTED_MODULE_1__.readOrCreateRevalidatingSegmentEntry)(now,currentSegment);switch(revalidatingSegment.status){case _cache__WEBPACK_IMPORTED_MODULE_1__.EntryStatus.Empty:upsertSegmentOnCompletion(task,route,segmentKey,spawnPrefetchSubtask((0,_cache__WEBPACK_IMPORTED_MODULE_1__.fetchSegmentOnCacheMiss)(route,(0,_cache__WEBPACK_IMPORTED_MODULE_1__.upgradeToPendingSegment)(revalidatingSegment,_cache__WEBPACK_IMPORTED_MODULE_1__.FetchStrategy.PPR),routeKey,segmentKey)));case _cache__WEBPACK_IMPORTED_MODULE_1__.EntryStatus.Pending:case _cache__WEBPACK_IMPORTED_MODULE_1__.EntryStatus.Fulfilled:case _cache__WEBPACK_IMPORTED_MO